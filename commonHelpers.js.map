{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_9jASqqHKQAo6N4L1SRkdQs7vBig3Nkosdb023kpSlgipthLBgxAwBmN13lpWZI7W';\n\nexport const fetchBreeds = async () => {\n  return await axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data);\n};\n\nexport const fetchCatByBreed = async breedId => {\n  return await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data);\n};\n","import SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/cat-api.js';\n\nconst selectRef = document.querySelector('.breed-select');\nconst catInfoRef = document.querySelector('.cat-info');\nconst loaderRef = document.querySelector('.loader');\n\nconst slimSelect = new SlimSelect({\n  select: selectRef,\n  settings: {\n    placeholderText: 'Search breeds',\n  },\n});\n\nconst errorMessage = {\n  title: 'Error',\n  message: '❌ Oops! Something went wrong! Try reloading the page!',\n  position: 'topRight',\n  color: 'red',\n};\n\nconst toggleLoader = hide => loaderRef.classList?.toggle('hide', hide);\n\nasync function handleBreedSelection() {\n  try {\n    const selectedBreedId = selectRef?.value;\n    toggleLoader(false);\n    const catData = await fetchCatByBreed(selectedBreedId);\n    displayCatInfo(catData);\n  } catch (error) {\n    toggleLoader(true);\n    iziToast.show(errorMessage);\n  } finally {\n    toggleLoader(true);\n  }\n}\n\nconst displayCatInfo = catData => {\n  const { name, description, temperament, origin } = catData[0]?.breeds[0];\n  const catImg = catData[0].url;\n  catInfoRef.innerHTML = `\n    <div class=\"wrapper-cat\">\n      <img class=\"cat-img\" src=\"${catImg}\" alt=\"${name}\"/>\n      <div class=\"wrapper-info\">\n        <h2>${name}</h2>\n        <p><b>Description:</b> ${description}</p>\n        <p><b>Temperament:</b> ${temperament}</p>\n        <p><b>Country:</b> ${origin}</p>\n      </div>\n    </div>\n  `;\n};\n\nconst initializeApp = async () => {\n  try {\n    toggleLoader(false);\n    await fetchBreeds().then(breeds => {\n      const data = breeds.map(({ id, name }) => ({ text: name, value: id }));\n      slimSelect.setData([{ placeholder: true, text: '' }, ...data]);\n    });\n\n    selectRef.addEventListener('change', handleBreedSelection);\n  } catch (error) {\n    toggleLoader(true);\n    iziToast.show(errorMessage);\n  } finally {\n    toggleLoader(true);\n  }\n};\n\ninitializeApp();\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","selectRef","catInfoRef","loaderRef","slimSelect","SlimSelect","errorMessage","toggleLoader","hide","_a","handleBreedSelection","selectedBreedId","catData","displayCatInfo","iziToast","name","description","temperament","origin","catImg","initializeApp","breeds","data","id"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,MAAMC,EAAc,SAClB,MAAMD,EACV,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,EAGtBC,EAAkB,MAAMC,GAC5B,MAAMJ,EACV,IAAI,wDAAwDI,GAAS,EACrE,KAAKF,GAAYA,EAAS,IAAI,ECR7BG,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAa,SAAS,cAAc,WAAW,EAC/CC,EAAY,SAAS,cAAc,SAAS,EAE5CC,EAAa,IAAIC,EAAW,CAChC,OAAQJ,EACR,SAAU,CACR,gBAAiB,eAClB,CACH,CAAC,EAEKK,EAAe,CACnB,MAAO,QACP,QAAS,wDACT,SAAU,WACV,MAAO,KACT,EAEMC,EAAeC,GAAI,OAAI,OAAAC,EAAAN,EAAU,YAAV,YAAAM,EAAqB,OAAO,OAAQD,IAEjE,eAAeE,GAAuB,CACpC,GAAI,CACF,MAAMC,EAAkBV,GAAA,YAAAA,EAAW,MACnCM,EAAa,EAAK,EAClB,MAAMK,EAAU,MAAMb,EAAgBY,CAAe,EACrDE,EAAeD,CAAO,CACvB,MAAC,CACAL,EAAa,EAAI,EACjBO,EAAS,KAAKR,CAAY,CAC9B,QAAY,CACRC,EAAa,EAAI,CAClB,CACH,CAEA,MAAMM,EAAiBD,GAAW,OAChC,KAAM,CAAE,KAAAG,EAAM,YAAAC,EAAa,YAAAC,EAAa,OAAAC,CAAM,GAAKT,EAAAG,EAAQ,KAAR,YAAAH,EAAY,OAAO,GAChEU,EAASP,EAAQ,GAAG,IAC1BV,EAAW,UAAY;AAAA;AAAA,kCAESiB,WAAgBJ;AAAA;AAAA,cAEpCA;AAAA,iCACmBC;AAAA,iCACAC;AAAA,6BACJC;AAAA;AAAA;AAAA,GAI7B,EAEME,EAAgB,SAAY,CAChC,GAAI,CACFb,EAAa,EAAK,EAClB,MAAMV,EAAW,EAAG,KAAKwB,GAAU,CACjC,MAAMC,EAAOD,EAAO,IAAI,CAAC,CAAE,GAAAE,EAAI,KAAAR,MAAY,CAAE,KAAMA,EAAM,MAAOQ,CAAE,EAAG,EACrEnB,EAAW,QAAQ,CAAC,CAAE,YAAa,GAAM,KAAM,EAAI,EAAE,GAAGkB,CAAI,CAAC,CACnE,CAAK,EAEDrB,EAAU,iBAAiB,SAAUS,CAAoB,CAC1D,MAAC,CACAH,EAAa,EAAI,EACjBO,EAAS,KAAKR,CAAY,CAC9B,QAAY,CACRC,EAAa,EAAI,CAClB,CACH,EAEAa,EAAe"}